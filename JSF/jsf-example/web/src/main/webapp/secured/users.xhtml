<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/masterLayout.xhtml">


	<ui:define name="pageTitle">#{out.admin_title}</ui:define>

	<ui:define name="head-extra">
		<!-- custom css -->
	</ui:define>

	<ui:define name="content">

		<div class="panel panel-default">

			<div class="panel-heading">Users</div>
			<div class="panel-body">

				<h:form id="adminForm">
					<p:growl id="msgs" showDetail="true" />
					<p:dataTable id="userTable" widgetVar="userTable" var="currentUser"
						paginatorPosition="bottom" styleClass="table table-striped"
						value="#{usersView.users}"
						paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
						rowsPerPageTemplate="5,10,15" paginator="true" rows="5"
						emptyMessage="#{out.empty_message}">

						<p:column style="width:120px;">

							<p:graphicImage value="#{userImages.image}"
								styleClass="img-thumbnail" style="height:100px;">
								<f:param name="userId" value="#{currentUser.id}" />
							</p:graphicImage>

						</p:column>


						<p:column headerText="Name" sortBy="#{currentUser.username}"
							filterBy="#{currentUser.username}">
							<h:outputText value="#{currentUser.username} " />
						</p:column>


						<p:column headerText="Gender"
							sortBy="#{currentUser.gender.name()}"
							filterBy="#{currentUser.gender.name()}" styleClass="hidden-xs"
							filterMatchMode="equals">
							<f:facet name="filter">
								<p:selectOneButton onchange="PF('userTable').filter()">

									<f:selectItem itemLabel="All" itemValue="" />
									<f:selectItem itemLabel="MALE" itemValue="MALE" />
									<f:selectItem itemLabel="FEMALE" itemValue="FEMALE" />
								</p:selectOneButton>
							</f:facet>
							<h:outputText value="#{currentUser.gender}" />
						</p:column>

					</p:dataTable>
				</h:form>

			</div>
		</div>

	</ui:define>
</ui:composition>